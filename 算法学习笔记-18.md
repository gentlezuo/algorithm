# 算法学习笔记 
### 181
题目：包含整数的二维矩阵 M 表示一个图片的灰度。你需要设计一个平滑器来让每一个单元的灰度成为平均灰度 (向下舍入) ，平均灰度的计算是周围的8个单元和它本身的值求平均，如果周围的单元格不足八个，则尽可能多的利用它们。   
[图片平滑器](https://leetcode-cn.com/problems/image-smoother/description/)   
分析：注意数组越界，使用Math.max(0,index),Math.min(len,value)比较好   
代码：
~~~
class Solution {
    public int[][] imageSmoother(int[][] M) {
        int row=M.length,col=M[0].length;
        int[][] res=new int[row][col];
        for(int i=0;i<row;i++){
            for (int j = 0; j < col; j++) {
                int count=0,sum=0;
                for (int k = Math.max(0,i-1); k <Math.min(row,i+2) ; k++) {
                    for (int l = Math.max(0,j-1); l <Math.min(col,j+2) ; l++) {
                        sum+=M[k][l];
                        ++count;
                    }
                }
                 res[i][j]=  count==0?0 : sum/count;
            }
        }
        return res;
    }
}
~~~